---
import { getCollection } from 'astro:content';
import { formatDate, orderByDate } from '../helpers';
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/PostCard.astro';

const posts = orderByDate(await getCollection('projects', ({data}) => !data.draft));
---

<Layout
    title="Jhon Achata â€” Proyectos"
    description="Proyectos personales realizados con diferentes tecnologÃ­as"
    path="/proyectos"
>
    <article class="flex-flex-col">
        {
            posts.map(post => (
                <PostCard
                    title={post.data.title}
                    href={`/${post.slug}`}
                    body={post.data.excerpt}
                    date={formatDate(post.data.publishedAt)}
                    type={post.data.type}
                    tags={post.data.tags || ''}
                />
            ))
        }
    </article>
</Layout>
